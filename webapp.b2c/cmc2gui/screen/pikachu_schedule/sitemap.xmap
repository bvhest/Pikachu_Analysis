<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
  <!-- =========================== Components ================================ -->
  <!--
  <map:components>
    <map:transformers>
      <map:transformer name="dump" logger="sitemap.transformer.dump" src="com.philips.cocoon.transformation.DumpTransformer"/>
    </map:transformers>
  </map:components>
  -->
  <!-- =========================== Resources =============================== -->
  <map:resources>
  </map:resources>
  <!-- =========================== Pipelines ================================= -->
  <map:pipelines>
    <!-- use case pipeline - URI request handling -->
    <map:pipeline>
      <!-- -->
      <map:match pattern="pikachu_schedule.xml">
        <map:select type="request-parameter">
          <map:parameter name="parameter-name" value="param2"/>
          <map:when test="jobs" label="step1">
            <map:generate type="jx" src="sql-getchannel.jx">
              <map:parameter name="loc" value="{request-param:param1}"/>
              <map:parameter name="gui_url" value="{global:gui_url}"/>
            </map:generate>
            <!--map:transform type="dump"><map:parameter name="logfile" value="{cmc2:gdir}/temp/temp/dump.pikachu_schedule.sql.xml"/></map:transform-->
            <map:transform type="sql" label="step2">
              <map:parameter name="use-connection" value="oracleDbCMC"/>
              <map:parameter name="clob-encoding" value="UTF-8"/>
            </map:transform>
            <!--map:transform type="dump"><map:parameter name="logfile" value="{cmc2:gdir}/temp/temp/dump.pikachu_schedule.sql-out.xml"/></map:transform-->
            <map:transform type="xslt-saxon" src="include.xslt" label="step3"/>
            <!--map:transform type="dump"><map:parameter name="logfile" value="{cmc2:gdir}/temp/temp/dump.pikachu_schedule.transform.xml"/></map:transform-->
            <map:transform type="include" label="step4"/>
            <map:serialize type="xml"/>
          </map:when>
          <map:otherwise>
            <map:generate src="no_content_type.xml"/>
            <map:serialize type="xml"/>
          </map:otherwise>
        </map:select>
      </map:match>
      <!-- -->
    </map:pipeline>
  </map:pipelines>
  <!-- -->
</map:sitemap>
