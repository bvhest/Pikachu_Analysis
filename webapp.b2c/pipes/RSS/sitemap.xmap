<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
	<map:components>
		<map:transformers default="xslt">
			<map:transformer name="shell" src="org.apache.cocoon.transformation.FileActionsTransformer"/>
		</map:transformers>
		<map:actions>
			<map:action name="synced-copy-source" src="org.apache.cocoon.acting.SyncedCopySourceAction"/>
		</map:actions>
	</map:components>
	<map:pipelines>
		<!--- -->
		<map:pipeline name="RSS" type="noncaching">
			<map:match pattern="latestProducts">
				<map:generate src="../common/xml/empty.xml"/>
				<map:transform type="xslt-saxon" src="./xsl/sql_getLatestProducts.xsl" label="step1"/>
				<map:transform type="sql" label="step2">
					<map:parameter name="use-connection" value="oracleDbCMC"/>
					<map:parameter name="clob-encoding" value="UTF-8"/>
				</map:transform>
				<map:transform type="xslt-saxon" src="xsl/convertLatestProducts.xsl" label="step3"/>
				<map:serialize type="xml"/>
			</map:match>
		</map:pipeline>
		<!-- -->
	</map:pipelines>
	<map:views>
		<map:view name="step1" from-label="step1">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step2" from-label="step2">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step3" from-label="step3">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step4" from-label="step4">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step5" from-label="step5">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step6" from-label="step6">
			<map:serialize type="xml"/>
		</map:view>
		<map:view name="step7" from-label="step7">
			<map:serialize type="xml"/>
		</map:view>
	</map:views>
</map:sitemap>
